<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-choco/dataset_evaluation">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Dataset evaluation | The Semantic Music Hub</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://smashub.github.io/docs/choco/dataset_evaluation"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Dataset evaluation | The Semantic Music Hub"><meta data-rh="true" name="description" content="This section details the actions taken to evaluate the quality of ChoCO, both in"><meta data-rh="true" property="og:description" content="This section details the actions taken to evaluate the quality of ChoCO, both in"><link data-rh="true" rel="icon" href="/img/favicon.jpeg"><link data-rh="true" rel="canonical" href="https://smashub.github.io/docs/choco/dataset_evaluation"><link data-rh="true" rel="alternate" href="https://smashub.github.io/docs/choco/dataset_evaluation" hreflang="en"><link data-rh="true" rel="alternate" href="https://smashub.github.io/docs/choco/dataset_evaluation" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="The Semantic Music Hub RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="The Semantic Music Hub Atom Feed"><link rel="stylesheet" href="/assets/css/styles.dfaf93c6.css">
<link rel="preload" href="/assets/js/runtime~main.afa5d16e.js" as="script">
<link rel="preload" href="/assets/js/main.2a11d876.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_a.png" alt="Smashub Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_a.png" alt="Smashub Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Smashub</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">News</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/smashub" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">What is Smashub</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/choco-the-chord-corpus">ChoCo: the Chord Corpus</a><button aria-label="Toggle the collapsible sidebar category &#x27;ChoCo: the Chord Corpus&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/choco/mission_content">Mission and content</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/choco/dataexport_statistics">Data export and statistics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/choco/choco_jams">Examples of JAMS files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/choco/metadata_license">Extra notes on partitions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/choco/dataset_evaluation">Dataset evaluation</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/choco-the-chord-corpus"><span itemprop="name">ChoCo: the Chord Corpus</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Dataset evaluation</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Dataset evaluation</h1><p>This section details the actions taken to evaluate the quality of ChoCO, both in
terms of JAMS output (accuracy of metadata and annotation), and chord conversion
consistency. If you want to replicate these experiments, please consider the
instructions below.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="jams-test-a-framework-for-test-driven-evaluation">JAMS-Test: a framework for test-driven evaluation<a class="hash-link" href="#jams-test-a-framework-for-test-driven-evaluation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="evaluation-of-the-jamification-process">Evaluation of the JAMification process<a class="hash-link" href="#evaluation-of-the-jamification-process" title="Direct link to heading">​</a></h3><p>The goal of the first validation step is to assess the quality and the expressivity of the JAMS files resulting from the JAMification process of ChoCo&#x27;s partitions. Please, refer to <code>choco/jams_test.py</code> to create test data and run the final evaluation.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Testing scripts for the JAMification of ChoCo partitions.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">positional arguments:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {create,merge,test}   Either `create` for generating the test samples or `test` for running the JAMS-based tests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  partition_dir         Path to the directory of the ChoCo partition in which the &quot;meta.csv&quot; file can be found.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {audio,score}         Type of music content in the collection.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">optional arguments:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -h, --help            show this help message and exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --skip_silver         Whether to detect and skip silver JAMS files.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --n_samples N_SAMPLES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        Number of test samples to draw from the partition, create the test metadata, and skim the JAMS.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --keep_n KEEP_N       Number of chord/key observations per annotation that will be retained for the evaluation.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --seed SEED           A random seed for reproducible sampling.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --debug               Whether to enable debugging logs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-create-a-test-set-for-the-partition">Step 1: Create a test set for the partition<a class="hash-link" href="#step-1-create-a-test-set-for-the-partition" title="Direct link to heading">​</a></h4><p>The first thing to do is to create a test set of silver JAMS files that will be manually edited, extended, revised, and eventually enriched by human annotators. For a single partition, say <code>isophonics</code>, the following script generates a test set of 4 samples where only the first 5 observations are retained per chord/key annotation.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd choco</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python jams_tests.py create ../partitions/isophonics/choco/ audio --n_samples 4 --keep_n 5 --seed 1234</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-run-the-evaluation-with-jams-test">Step 2: Run the evaluation with JAMS-Test<a class="hash-link" href="#step-2-run-the-evaluation-with-jams-test" title="Direct link to heading">​</a></h4><p>Once you have manually annotated/revised the silver JAMS, thereby producing gold JAMS, it is time to measure the quality of the estimated JAMS files (in ChoCo, the output of the JAMification process). This is done by comparing the latter against the gold standard, with respect to specific sections/layer (this is fairly documented in our issues). To run the evaluation, you only need to provide the path to the specific ChoCo partition to validate: which is expected to contain a <code>test</code> folder with the gold JAMS. Please, note that, if the test folder still contains the silver JAMS from the previous step, these can be safely ignored with the <code>--skip_silver</code> option.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd choco</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python jams_test.py test ../tests/data/dummy-score-partition/ score --skip_silver</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="details-how-gold-jams-were-obtained">Details: how gold JAMS were obtained<a class="hash-link" href="#details-how-gold-jams-were-obtained" title="Direct link to heading">​</a></h3><p>This section contains information on how to validate JAMS files produced by JAMification process of ChoCo.The validation consists of checking the correctness of annotations automatically converted into a standardised format (JAMS). More specifically, validation consists of comparing the annotations contained in the JAMS file (automatically generated) with the original annotation files. Generally, each dataset originally contains annotations in a different formats.</p><p>Validation will take place on two levels:</p><ul><li><strong>preliminary_test</strong>: a small number of tracks is assigned to each validator. The purpose of this validation phase is
to assign a confidence score to the annotator, based on the accuracy of the test annotations produced;</li><li><strong>validation</strong>: the ChoCo datasets will be divided equally between the annotators and multiple tracks per dataset
will be assigned to each annotator.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="validation-guidelines">Validation Guidelines<a class="hash-link" href="#validation-guidelines" title="Direct link to heading">​</a></h4><p>The annotations to be validated are assigned to validators in a csv file called <code>validator_map.csv</code>.
This file has the following structure:</p><table><thead><tr><th><strong>dataset_name</strong></th><th><strong>dataset_type</strong></th><th><strong>validator</strong></th><th><strong>perliminary_test</strong></th></tr></thead><tbody><tr><td>Isophonics</td><td>audio</td><td>validator_name</td><td>True</td></tr></tbody></table><p>The fields are described as follows:</p><ul><li><em>dataset_name</em>: the dataset that needs to be validated;</li><li><em>dataset_type</em>: the type of the chord annotations contained in the dataset, which can be either <code>score</code> or <code>audio</code>;</li><li><em>validator</em>: the person who will take care of the validation of the dataset;</li><li><em>preliminary_test</em>: boolean that indicates whether the dataset is part of the preliminary validation or not.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-to-validate">What to validate?<a class="hash-link" href="#what-to-validate" title="Direct link to heading">​</a></h4><p>There are several fields that need to be checked in the validation process, which can be grouped into the following
categories:</p><ul><li><em>file metadata</em>: the metadata of the file being analyzed, which include the title the composer, the artist, etc.
This information is contained in the <code>file_metadata</code> and in the <code>sandbox</code> section of the JAMS files;</li><li><em>annotations</em>: general category that contains annotations related to the song. Specifically within this section it is
important to validate:<ul><li><em>annotation metadata</em>: metadata related to the annotation and the annotator;</li><li><em>chord observations</em>: chord annotations, including timing information. For each observation, it is therefore
essential to
validate both the accuracy of the chord itself, its duration and its starting time;</li><li><em>key annotations</em>: annotations about the song&#x27;s key, including temporal indications. For each key annotation,
it is therefore essential to validate both the accuracy of the key label, its duration and its starting time.</li></ul></li></ul><p>There are two main types of annotations contained in a JAMS file:</p><ol><li>Audio annotations: contain time information expressed in real time (seconds);</li><li>Score annotations: contain time expressed symbolically. In particular, timing information is expressed through the
convention <code>beasure.beat</code> while duration is expressed in <code>quarter_beat</code>.</li></ol><p>You can get more information regarding these conventions and the structure of the JAMS files in the Wiki section of the
ChoCo repository, at <a href="/docs/choco/choco_jams">this link</a>.</p><p>In order to make validation faster and simpler, the JAMS files have been further simplified, in order to reduce the number of
chords to be validated and consequently the complexity of the files.
Each file was in fact simplified using one of the following strategies:</p><ul><li><code>last_n</code>: only the last n chords are taken into account;</li><li><code>first_n</code>: only the first n chords are considered.</li></ul><p>Within the <code>partitions/partition_name/test</code> folder, files simplified according to the aforementioned strategies
(i.e. <code>first_n</code> or <code>last_n</code>) have already been generated.\
In the same folder, you can also find the file <code>test_meta.csv</code>, which contains information concerning the creation of
the validation files, such as the simplification strategy used, their name, and the path of both the original file
and the file to be validated.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="instructions-for-validators">Instructions for Validators<a class="hash-link" href="#instructions-for-validators" title="Direct link to heading">​</a></h4><p>The validation process should be organised as follows:</p><ol><li><p>fork the ChoCo repository, by clicking on the <code>fork</code> button on the top right of the repository page</p></li><li><p>clone the forked repository:</p></li></ol><div class="language-commandline codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-commandline codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone &lt;link_to_your_repository&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>enter the repository:</li></ol><div class="language-commandline codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-commandline codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd choco</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>switch to the &#x27;validation&#x27; branch via:</li></ol><div class="language-commandline codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-commandline codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git switch validation</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="5"><li>check in the <code>validator_map.csv</code> file which dataset has been associated with you</li><li>look for the JAMS files to validate in the <code>partitions/dataset_name/test</code> folder</li><li>duplicate each file by adding your name to the file name, e.g., <code>isophonics_73_silver.jams</code> will
become <code>isophonics_3_silver_yourname.jams</code></li><li>for each file in the validation folder of the assigned dataset, look for the corresponding original file that is
mapped to the <code>meta.csv</code> file, that can be found in the <code>partitions/dataset_name/choco</code> folder</li><li>validate the JAMS against the original files, taking into account the simplification strategy used for each file,
which can be found in <code>partitions/dataset_name/test/test_meta.csv</code></li><li>edit the renamed file (<code>isophonics_3_silver_yourname.jams</code> from the example at point 2.) by fixing any errors and/or
inaccuracies</li><li>once a validation step is finished (i.e. both the preliminary_validation and final_validation levels, see above),
<a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request" target="_blank" rel="noopener noreferrer">open a pull request</a>
on the <code>validation</code> branch of the ChoCo repository.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="music-expert-evaluation-of-conversions-s2">Music expert evaluation of conversions (S2)<a class="hash-link" href="#music-expert-evaluation-of-conversions-s2" title="Direct link to heading">​</a></h2><p>To generate more readable annotations for evaluating the output of the chord conversion rules, you can use the following command. This will merge the original and the converted JAMS, and the resulting annotation will be flattened in a CSV file in &#x27;flattened/&#x27;. </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd choco</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python jams_test.py merge ../partitions/when-in-rome/choco score</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/smashub/smashub.github.io/docs/docs/choco/dataset_evaluation.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/choco/metadata_license"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Extra notes on partitions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#jams-test-a-framework-for-test-driven-evaluation" class="table-of-contents__link toc-highlight">JAMS-Test: a framework for test-driven evaluation</a><ul><li><a href="#evaluation-of-the-jamification-process" class="table-of-contents__link toc-highlight">Evaluation of the JAMification process</a></li><li><a href="#details-how-gold-jams-were-obtained" class="table-of-contents__link toc-highlight">Details: how gold JAMS were obtained</a></li></ul></li><li><a href="#music-expert-evaluation-of-conversions-s2" class="table-of-contents__link toc-highlight">Music expert evaluation of conversions (S2)</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/polifonia" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/smashub" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Smashub</div></div></div></footer></div>
<script src="/assets/js/runtime~main.afa5d16e.js"></script>
<script src="/assets/js/main.2a11d876.js"></script>
</body>
</html>